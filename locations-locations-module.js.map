{"version":3,"sources":["./src/app/features/admin/locations/location-form/location-form.component.ts","./src/app/features/admin/locations/location-form/location-form.component.html","./src/app/features/admin/locations/location-form/location-form.data.ts","./src/app/features/admin/locations/location-list/location-list.component.ts","./src/app/features/admin/locations/location-list/location-list.component.html","./src/app/features/admin/locations/locations-routing.module.ts","./src/app/features/admin/locations/locations.component.ts","./src/app/features/admin/locations/locations.module.ts"],"names":[],"mappings":"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","file":"locations-locations-module.js","sourcesContent":["import { ChangeDetectorRef, Component, HostListener, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs/internal/Observable';\nimport * as moment from 'moment';\nimport 'moment-timezone';\n\nimport { ApiLocationService, BaseResponse, CreateLocationRequest, CreateLocationResponse, Location, UpdateLocationRequest } from '@xenon/api';\nimport { UiFormService, UiNotificationService, UiPromptService, NotificationType } from '@xenon/ui';\nimport { UnsavedChangesModalService, UtilCloneService, UtilLocalStorageService } from '@xenon/utils';\nimport { LOCATION_FORM_FIELDS } from './location-form.data';\nimport { AdminBase } from '../../../../shared/admin-base';\nimport { take } from 'rxjs/operators';\n\n@Component({\n  selector: 'xenon-location-form',\n  templateUrl: './location-form.component.html',\n  styleUrls: ['./location-form.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class LocationFormComponent extends AdminBase implements OnInit, OnDestroy {\n  public location: Location;\n  /** TODO: we may want to rethink keeping all the form definitions in the Admin base.\n   * We lose type declaration for the forms and now don't have a type to assign `cachedFormValues` either.\n   * */\n  public cachedFormValues;\n  public changesMade: boolean;\n  public nextState: string;\n  public timezoneList: [{}];\n\n  constructor(\n    public uiPromptService: UiPromptService,\n    public notificationService: UiNotificationService,\n    private apiLocationService: ApiLocationService,\n    private utilLocalStorageService: UtilLocalStorageService,\n    private router: Router,\n    private cdr: ChangeDetectorRef,\n    private unsavedChangesService: UnsavedChangesModalService\n  ) {\n    super();\n    const routerState = this.router.getCurrentNavigation()?.extras?.state;\n    this.location = routerState?.location;\n    this.editMode = routerState?.isEditMode;\n    this.apiLocationService\n      .getTimeZone()\n      .pipe(take(1))\n      .subscribe((result) => {\n        this.timezoneList = result.Timezones;\n      });\n  }\n\n  @HostListener('window:beforeunload')\n  canDeactivate(): Observable<boolean> | boolean {\n    return this.unsavedChangesService.handleUnsavedChangesModal(() => this.changesMade, this.save.bind(this), this.nextState);\n  }\n\n  ngOnInit(): void {\n    if (this.editMode === undefined) this.navigateToLocationsList();\n    else this.setupPage();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  public save(): Promise<void> {\n    if (this.editMode) return this.updateLocation();\n    else return this.createLocation();\n  }\n\n  private setEditForm(): void {\n    this.fields.forEach((field) => (field.value = this.location[field.name]));\n    this.fieldsAsObject = UiFormService.buildFieldsAsObject(this.fields);\n    this.form = UiFormService.buildForm(this.fields);\n  }\n\n  private setNewForm(): void {\n    this.location = {} as Location;\n    this.fields.forEach((field) => (field.value = this.location[field.name]));\n    this.fieldsAsObject = UiFormService.buildFieldsAsObject(this.fields);\n    this.form = UiFormService.buildForm(this.fields);\n  }\n\n  private createLocation(): Promise<void> {\n    const form = this.form.controls;\n    const request: CreateLocationRequest = {\n      Name: form['Name'].value,\n      Desc: form['Desc'].value,\n      Address: form['Address'].value,\n      Address2: form['Address2'].value,\n      City: form['City'].value,\n      State: form['State'].value,\n      Zip: form['Zip'].value,\n      PrimaryPhone: form['PrimaryPhone'].value,\n      PrimaryPhoneLabel: form['PrimaryPhoneLabel'].value,\n      PrimaryEmail: form['PrimaryEmail'].value,\n      PrimaryEmailLabel: form['PrimaryPhoneLabel'].value,\n      Timezone: form['Timezone'].value,\n      OrgID: this.loggedInUser.CurrentOrg.ID,\n    };\n\n    return this.apiLocationService\n      .createLocation(request)\n      .then((response: CreateLocationResponse) => {\n        if (response.Status === 'error') {\n          const errorMessage = `Location not created. An error occurred: ${response.Message}.`;\n          this.notificationService.show(NotificationType.error, 'Error', errorMessage, 2500);\n        } else {\n          this.cachedFormValues = JSON.parse(JSON.stringify(this.form.value));\n          this.changesMade = false;\n          this.notificationService.show(NotificationType.success, 'Close', 'Changes Saved', 2500);\n          this.router.navigate(['/locations']);\n        }\n      })\n      .catch((err) => {\n        const errorMessage = `Location not created. An error occurred: ${err?.error?.Error}.`;\n        this.notificationService.show(NotificationType.error, 'Error', errorMessage, 2500);\n      });\n  }\n\n  private updateLocation(): Promise<void> {\n    const request: UpdateLocationRequest = {\n      ID: this.location.ID,\n    };\n\n    this.fields.forEach((field) => {\n      const formField = this.form.controls[field.name];\n      if (formField.touched && !formField.pristine && formField.valid) {\n        request[field.name] = formField.value;\n      }\n    });\n\n    return this.apiLocationService\n      .updateLocation(request)\n      .then((response: BaseResponse) => {\n        if (response.Status === 'error') {\n          const errorMessage = `An error occurred updating location. Error: ${response.Message}.`;\n          this.notificationService.show(NotificationType.error, 'Error', errorMessage, 2500);\n        } else {\n          this.cachedFormValues = JSON.parse(JSON.stringify(this.form.value));\n          this.changesMade = false;\n          this.notificationService.show(NotificationType.success, 'Close', 'Changes Saved', 2500);\n          this.router.navigate(['/locations']);\n        }\n      })\n      .catch((err) => {\n        const errorMessage = `An error occurred updating location. Error: ${err?.error?.Error}.`;\n        this.notificationService.show(NotificationType.error, 'Error', errorMessage, 2500);\n      });\n  }\n\n  private navigateToLocationsList(): void {\n    this.router.navigate(['/locations']);\n  }\n\n  private setupPage(): void {\n    this.fields = UtilCloneService.deepClone(LOCATION_FORM_FIELDS);\n    this.loggedInUser = this.utilLocalStorageService.getItem('user');\n\n    if (this.editMode) this.setEditForm();\n    else this.setNewForm();\n\n    const zone_name = moment.tz.guess();\n    const timezone = moment.tz(zone_name).zoneAbbr();\n\n    const currentTimeZoneValue = this.form.get('Timezone').value;\n    if (!currentTimeZoneValue) this.form.patchValue({ Timezone: timezone });\n\n    this.cdr.detectChanges();\n\n    this.cachedFormValues = JSON.parse(JSON.stringify(this.form.value));\n    this.subscriptions.add(\n      this.form.valueChanges.subscribe((formValues) => {\n        this.changesMade = JSON.stringify(formValues) !== JSON.stringify(this.cachedFormValues);\n      })\n    );\n  }\n}\n","<div id=\"location-form\" *ngIf=\"form\" class=\"h-100\">\n  <div fxLayoutAlign=\"end\">\n    <button mat-button color=\"primary\" type=\"submit\" class=\"my-1\" [disabled]=\"!locationEditForm.valid || !changesMade\" form=\"ngForm\">Save</button>\n  </div>\n  <mat-divider></mat-divider>\n\n  <div class=\"scroll-area overflow-y-auto\">\n    <section class=\"header\" *ngIf=\"editMode\">\n      <div class=\"d-flex justify-content-between align-content-end\">\n        <div class=\"profile d-flex justify-content-between align-content-end\">\n          <div class=\"avatar\">\n            <mat-icon class=\"icon\">location_on</mat-icon>\n          </div>\n          <div class=\"details\">\n            <h6>{{ location.Name }}</h6>\n            <p fxLayout=\"column\">\n              <span>{{ location.Desc }} </span>\n              <span [hidden]=\"!location.Address.trim()\">{{ location.Address }},</span><span>{{ location.Address2 }}</span>\n              <span [hidden]=\"!location.City.trim()\">{{ location.City }},</span>\n              {{ location.State }} {{ location.Zip }}\n            </p>\n            <p fxLayout=\"column\">\n              <span [hidden]=\"!location.PrimaryPhoneLabel.trim()\">{{ location.PrimaryPhone }} ({{ location.PrimaryPhoneLabel }})</span>\n              <span [hidden]=\"!location.PrimaryEmailLabel.trim()\">{{ location.PrimaryEmail }} ({{ location.PrimaryEmailLabel }})</span>\n            </p>\n          </div>\n        </div>\n        <div>#{{ location.ID }}</div>\n      </div>\n    </section>\n    <section *ngIf=\"!editMode\">\n      <h6>New Location</h6>\n    </section>\n    <form [formGroup]=\"form\" (submit)=\"save()\" id=\"ngForm\" #locationEditForm=\"ngForm\">\n      <section class=\"details\">\n        <h6>Location Details</h6>\n\n        <div fxLayout=\"row wrap\">\n          <div fxFlex=\"100\">\n            <xenon-ui-form-field-input [fieldOptions]=\"fieldsAsObject['Name']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-input>\n          </div>\n        </div>\n\n        <div fxLayout=\"row wrap\">\n          <div fxFlex=\"100\">\n            <xenon-ui-form-field-text-area [fieldOptions]=\"fieldsAsObject['Desc']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-text-area>\n          </div>\n        </div>\n\n        <div fxLayout=\"row wrap\">\n          <div fxFlex=\"100\">\n            <xenon-ui-form-field-input [fieldOptions]=\"fieldsAsObject['Address']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-input>\n          </div>\n        </div>\n\n        <div fxLayout=\"row wrap\">\n          <div fxFlex=\"100\">\n            <xenon-ui-form-field-input [fieldOptions]=\"fieldsAsObject['Address2']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-input>\n          </div>\n        </div>\n\n        <div fxLayout=\"row wrap\">\n          <div fxFlex=\"60\">\n            <xenon-ui-form-field-input [fieldOptions]=\"fieldsAsObject['City']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-input>\n          </div>\n\n          <div fxFlex=\"20\">\n            <xenon-ui-form-field-input [fieldOptions]=\"fieldsAsObject['State']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-input>\n          </div>\n\n          <div fxFlex=\"20\">\n            <xenon-ui-form-field-input [fieldOptions]=\"fieldsAsObject['Zip']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-input>\n          </div>\n        </div>\n      </section>\n\n      <section class=\"contact\">\n        <h6>Contact Information</h6>\n\n        <div fxLayout=\"row wrap\">\n          <div fxFlex=\"70\">\n            <xenon-ui-form-field-input [fieldOptions]=\"fieldsAsObject['PrimaryPhone']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-input>\n          </div>\n          <div fxFlex=\"30\">\n            <xenon-ui-form-field-select [fieldOptions]=\"fieldsAsObject['PrimaryPhoneLabel']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-select>\n          </div>\n        </div>\n\n        <div fxLayout=\"row wrap\">\n          <div fxFlex=\"70\">\n            <xenon-ui-form-field-input [fieldOptions]=\"fieldsAsObject['PrimaryEmail']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-input>\n          </div>\n          <div fxFlex=\"30\">\n            <xenon-ui-form-field-select [fieldOptions]=\"fieldsAsObject['PrimaryEmailLabel']\" [fieldFormGroup]=\"form\"> </xenon-ui-form-field-select>\n          </div>\n        </div>\n      </section>\n\n      <section class=\"details\">\n        <h6>Time Settings</h6>\n        <div fxLayout=\"row wrap\">\n          <div fxFlex=\"70\">\n            <mat-form-field [formGroup]=\"form\">\n              <mat-label>{{ fieldsAsObject['Timezone'].label }}</mat-label>\n              <mat-select formControlName=\"{{ fieldsAsObject['Timezone'].name }}\">\n                <mat-option *ngFor=\"let timezone of timezoneList\" [value]=\"timezone.TimezoneCode\">{{ timezone.TimezoneCode }}</mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n        </div>\n      </section>\n    </form>\n  </div>\n</div>\n","import { UiFormFieldInput, UiFormFieldSelect, UiFormFieldSelectOption, UiFormFieldTextArea, UiFormFieldType, UiFormFieldValidator } from '@xenon/ui';\n\nexport const LOCATION_FORM_FIELDS = [\n  // Name\n  {\n    name: 'Name',\n    label: 'Name',\n    type: UiFormFieldType.Input,\n    validators: [{ validator: UiFormFieldValidator.Required }],\n  } as UiFormFieldInput,\n\n  // Desc\n  {\n    name: 'Desc',\n    label: 'Description',\n    type: UiFormFieldType.TextArea,\n    validators: [],\n  } as UiFormFieldTextArea,\n\n  // Address\n  {\n    name: 'Address',\n    label: 'Address - Line 1',\n    type: UiFormFieldType.Input,\n    validators: [],\n  } as UiFormFieldInput,\n\n  // Address2\n  {\n    name: 'Address2',\n    label: 'Address - Line 2',\n    type: UiFormFieldType.Input,\n    validators: [],\n  } as UiFormFieldInput,\n\n  // City - Text\n  {\n    name: 'City',\n    label: 'City',\n    type: UiFormFieldType.Input,\n    validators: [],\n  } as UiFormFieldInput,\n\n  // State - Text\n  {\n    name: 'State',\n    label: 'State',\n    type: UiFormFieldType.Input,\n    validators: [],\n  } as UiFormFieldInput,\n\n  // Postal - Text\n  {\n    name: 'Zip',\n    label: 'Zip',\n    type: UiFormFieldType.Input,\n    validators: [],\n  } as UiFormFieldInput,\n\n  // Primary Email\n  {\n    name: 'PrimaryEmail',\n    label: 'Primary Email',\n    type: UiFormFieldType.Input,\n    validators: [{ validator: UiFormFieldValidator.Email }],\n  } as UiFormFieldInput,\n\n  // Primary Email Label\n  {\n    name: 'PrimaryEmailLabel',\n    label: 'Primary Email Label',\n    type: UiFormFieldType.Select,\n    validators: [],\n    options: [\n      {\n        label: 'Personal',\n        value: 'personal',\n      },\n      {\n        label: 'Work',\n        value: 'work',\n      },\n      {\n        label: 'Business',\n        value: 'business',\n      },\n    ] as UiFormFieldSelectOption[],\n  } as UiFormFieldSelect,\n\n  // Primary Phone\n  {\n    name: 'PrimaryPhone',\n    label: 'Primary Phone',\n    type: UiFormFieldType.Input,\n    validators: [],\n  } as UiFormFieldInput,\n\n  // Primary Phone Label\n  {\n    name: 'PrimaryPhoneLabel',\n    label: 'Primary Phone Label',\n    type: UiFormFieldType.Select,\n    validators: [],\n    options: [\n      {\n        label: 'Personal',\n        value: 'personal',\n      },\n      {\n        label: 'Work',\n        value: 'work',\n      },\n      {\n        label: 'Business',\n        value: 'business',\n      },\n    ] as UiFormFieldSelectOption[],\n  } as UiFormFieldSelect,\n\n  // Timezone\n  {\n    name: 'Timezone',\n    label: 'Timezone',\n    type: UiFormFieldType.Select,\n    validators: [{ validator: UiFormFieldValidator.Required }],\n  } as UiFormFieldSelect,\n];\n","import { Component, EventEmitter, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\nimport { ApiOrganizationService, Location, Organization } from '@xenon/api';\nimport { map } from 'rxjs/operators';\nimport * as _ from 'lodash-es';\nimport { forkJoin } from 'rxjs';\n\n@Component({\n  selector: 'xenon-location-list',\n  styleUrls: ['./location-list.component.scss'],\n  templateUrl: './location-list.component.html',\n})\nexport class LocationListComponent implements OnChanges {\n  displayedColumns: string[] = ['Name', 'Desc', 'OrgID', 'Actions'];\n\n  @Input() locations: Location[] = [];\n  @Output() locationItemClick = new EventEmitter<Location>();\n  @Output() deleteLocationItemClick = new EventEmitter<Location>();\n\n  organizationsAsObject: object;\n\n  constructor(private apiOrganizationService: ApiOrganizationService) {}\n\n  public clickLocation(record: Location): void {\n    this.locationItemClick.emit(record);\n  }\n\n  public clickDeleteLocation(record: Location): void {\n    this.deleteLocationItemClick.emit(record);\n  }\n\n  public ngOnChanges(changes: SimpleChanges): void {\n    if (changes.locations.currentValue) {\n      const locations = changes.locations.currentValue;\n      const queue = [];\n      const orgIds = _.uniq(locations.map((r) => r.OrgID));\n      orgIds.forEach((id: number) => queue.push(this.apiOrganizationService.getOrg(id)));\n      forkJoin(queue).pipe(\n        map((organizations: Organization[]) => {\n          this.organizationsAsObject = _.keyBy(organizations, 'ID');\n        })\n      );\n    }\n  }\n}\n","<table mat-table [dataSource]=\"locations\" class=\"mat-elevation-z0\">\n  <ng-container matColumnDef=\"Name\">\n    <th mat-header-cell *matHeaderCellDef>Name</th>\n    <td class=\"clickable\" mat-cell (click)=\"clickLocation(element)\" *matCellDef=\"let element\">\n      {{ element.Name }}\n    </td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"Desc\">\n    <th mat-header-cell *matHeaderCellDef>Description</th>\n    <td class=\"clickable\" mat-cell (click)=\"clickLocation(element)\" *matCellDef=\"let element\">\n      {{ element.Desc }}\n    </td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"OrgID\">\n    <th mat-header-cell *matHeaderCellDef>Organization</th>\n    <td class=\"clickable\" mat-cell (click)=\"clickLocation(element)\" *matCellDef=\"let element\">\n      {{ organizationsAsObject ? organizationsAsObject[element['OrgID']]['Name'] : '' }}\n    </td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"Actions\">\n    <th width=\"10\" mat-header-cell *matHeaderCellDef></th>\n    <td class=\"clickable\" width=\"10\" mat-cell *matCellDef=\"let element\">\n      <mat-icon color=\"primary\" (click)=\"clickDeleteLocation(element)\">\n        delete\n      </mat-icon>\n    </td>\n  </ng-container>\n\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n</table>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UnsavedChangesGuard } from '@xenon/utils';\nimport { LocationFormComponent } from './location-form/location-form.component';\nimport { LocationsComponent } from './locations.component';\n\nconst routes: Routes = [\n  { path: '', component: LocationsComponent },\n  { path: 'edit', component: LocationFormComponent, canDeactivate: [UnsavedChangesGuard] },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LocationsRoutingModule {}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { BehaviorSubject, of } from 'rxjs';\nimport { flatMap } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\nimport { ApiLocationService, Location } from '@xenon/api';\nimport { UtilLocalStorageService, SearchPipe } from '@xenon/utils';\nimport { NotificationType, UiNotificationService, UiPromptService } from '@xenon/ui';\nimport { AdminBase } from '../../../shared/admin-base';\n\n@Component({\n  selector: 'xenon-locations',\n  styleUrls: ['./locations.component.scss'],\n  template: `\n    <div class=\"page-header\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n      <h6 class=\"title\">Locations</h6>\n      <xenon-ui-string-search [searchString]=\"search$ | async\" (searchChange)=\"searchChange($event)\" [label]=\"'Search Locations'\"> </xenon-ui-string-search>\n    </div>\n\n    <div class=\"page-body\">\n      <xenon-location-list [locations]=\"locations$ | async\" (locationItemClick)=\"openLocationForm($event)\" (deleteLocationItemClick)=\"deleteLocation($event)\">\n      </xenon-location-list>\n      <button mat-fab mat-flat-button (click)=\"openLocationForm()\" class=\"add-button\" color=\"primary\" aria-label=\"Create new Location\">\n        <mat-icon>add</mat-icon>\n      </button>\n    </div>\n  `,\n})\nexport class LocationsComponent extends AdminBase implements OnInit, OnDestroy {\n  public locations$: BehaviorSubject<Location[]> = new BehaviorSubject<Location[]>([]);\n  public search$: BehaviorSubject<string> = new BehaviorSubject(null);\n\n  private searchPipe: SearchPipe;\n  private columnsToSearchBy = ['Name', 'Desc', 'OrgID'];\n  private cachedLocations: Location[] = [];\n\n  constructor(\n    public uiPromptService: UiPromptService,\n    public notificationService: UiNotificationService,\n    private apiLocationService: ApiLocationService,\n    private utilLocalStorageService: UtilLocalStorageService,\n    private router: Router // private apiUserService: ApiUserService\n  ) {\n    super();\n    this.searchPipe = new SearchPipe();\n    this.loggedInUser = this.utilLocalStorageService.getItem('user');\n  }\n\n  ngOnInit(): void {\n    this.refreshData();\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  public searchChange(searchInput: string): void {\n    const filteredLocations = this.searchPipe.transform(this.cachedLocations, searchInput, this.columnsToSearchBy);\n    this.locations$.next(filteredLocations);\n  }\n\n  public openLocationForm(location?: Location): void {\n    const isEditMode = location !== undefined;\n    this.router.navigate(['/admin/locations/edit'], { state: { location: location, isEditMode: isEditMode } });\n  }\n\n  public deleteLocation(location: Location): void {\n    const sub = this.uiPromptService\n      .prompt(`Are you sure you sure you want to delete \"${location.Name}\"?`)\n      .afterClosed()\n      .pipe(\n        flatMap((r: { ok: boolean }) => {\n          return r.ok ? this.apiLocationService.deleteLocation(location.ID) : of({ Status: 'empty' });\n        })\n      )\n      .subscribe((m) => {\n        if (m.Status === 'success') {\n          setTimeout(() => {\n            this.notificationService.show(NotificationType.success, 'Close', 'Location Deleted', 2500);\n            this.refreshData();\n          }, 2500);\n        }\n      });\n    this.subscriptions.add(sub);\n  }\n\n  private refreshData(): void {\n    const sub = this.apiLocationService.getLocationsByOrgId(this.loggedInUser.CurrentOrg.ID).subscribe((res) => {\n      this.cachedLocations = res;\n      this.locations$.next(res);\n    });\n    this.subscriptions.add(sub);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LocationsRoutingModule } from './locations-routing.module';\nimport { LocationsComponent } from './locations.component';\nimport { SharedModule } from '../../../shared/shared.module';\nimport { LocationListComponent } from './location-list/location-list.component';\nimport { LocationFormComponent } from './location-form/location-form.component';\n\n@NgModule({\n  declarations: [LocationsComponent, LocationListComponent, LocationFormComponent],\n  imports: [SharedModule, LocationsRoutingModule],\n})\nexport class LocationsModule {}\n"],"sourceRoot":"webpack:///"}